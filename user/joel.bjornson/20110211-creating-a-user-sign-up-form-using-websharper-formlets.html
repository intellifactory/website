<!DOCTYPE html>
<html lang="en">
<head>
    <title>Page title</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&amp;display=swap" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&amp;display=swap" />
    <link rel="stylesheet" href="/css/tailwind/tailwind.min.css" />
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-tailwind.png" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js" type="text/javascript" charset="UTF-8"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/languages/fsharp.min.js" type="text/javascript" charset="UTF-8"></script><link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/styles/vs.min.css"></link>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" type="text/javascript" charset="UTF-8"></script>
    <script src="/js/main.js"></script>
</head>
<body class="antialiased bg-body text-body font-body">
    <div class="">
        <section class="py-8 px-4 lg:px-10 bg-gray-800">
            <nav class="relative flex justify-between items-center">
                <a class="text-2xl text-white font-bold" href="#">
                    <img class="h-7" src="/files/logos/zospace-logo.svg" alt="" width="auto" />
                </a>
                <div class="lg:hidden">
                    <button class="p-2 navbar-burger">
                        <svg class="w-10 h-3" width="39" height="13" viewbox="0 0 39 13" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="39" height="2" rx="1" fill="#C4C4C4"></rect><rect x="19" y="11" width="20" height="2" rx="1" fill="#C4C4C4"></rect></svg>
                    </button>
                </div>
                <div class="hidden lg:block absolute top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2">
                    <ul class="flex items-center text-white space-x-10">
                        <li><a class="text-white font-bold text-lg" href="#">Home</a></li>
                        <span>
                            <svg width="5" height="5" viewbox="0 0 5 5" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="2.5" cy="2.5" r="2.5" fill="#726B6B"></circle></svg>
                        </span>
                        <li><a class="text-white font-bold text-lg" href="#">Open Source</a></li>
                        <span>
                            <svg width="5" height="5" viewbox="0 0 5 5" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="2.5" cy="2.5" r="2.5" fill="#726B6B"></circle></svg>
                        </span>
                        <li><a class="text-white font-bold text-lg" href="#">Blog</a></li>
                        <span>
                            <svg width="5" height="5" viewbox="0 0 5 5" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="2.5" cy="2.5" r="2.5" fill="#726B6B"></circle></svg>
                        </span>
                        <li><a class="text-white font-bold text-lg" href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="hidden lg:block"><a class="inline-block px-12 py-4 text-white font-bold border border-gray-200 hover:border-white rounded-full" href="#">Sign Up</a></div>
            </nav>
            <div class="hidden navbar-menu fixed top-0 left-0 bottom-0 w-5/6 max-w-sm z-50">
                <div class="navbar-backdrop fixed inset-0 bg-gray-800 opacity-80"></div>
                <nav class="relative flex flex-col py-8 h-full w-full bg-white overflow-y-auto">
                    <div class="flex items-center mb-16 pr-6">
                        <a class="ml-10 text-2xl text-gray-800 font-bold" href="#">
                            <img class="h-7" src="/files/logos/zospace-dark-logo.svg" alt="" width="auto" />
                        </a>
                    </div>
                    <div>
                        <ul>
                            <li class="mb-1 px-10"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="#">Home</a></li>
                            <li class="mb-1 px-10"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="#">Open Source</a></li>
                            <li class="mb-1 px-10"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="#">Blog</a></li>
                            <li class="mb-1 px-10"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="#">Contact</a></li>
                        </ul>
                    </div>
                    <div class="mt-auto px-10">
                        <div class="pt-6"><a class="block mb-4 py-4 px-12 text-gray-800 text-center font-bold border border-gray-50 hover:border-gray-100 rounded-full" href="#">Sign in</a><a class="block py-4 px-12 text-white text-center font-bold bg-blue-500 hover:bg-blue-600 rounded-full transition duration-200" href="#">Sign up</a></div>
                        <p class="mt-6 mb-4 text-lg text-center">
                            <span>2021 © Zospace. All rights reserved.</span>
                        </p>
                    </div>
                </nav>
            </div>
        </section>
        

        <section class="py-20 2xl:py-40 bg-blue-800 overflow-hidden">
            <div class="container px-4 mx-auto">
                <div class="max-w-3xl mx-auto text-center">
                    <h2 class="mb-14 text-6xl lg:text-7xl font-bold font-heading text-white">Creating a user sign-up form using WebSharper Formlets</h2>
                    <div class="inline-flex mb-14 lg:mb-20 items-center">
                        <img class="mr-8 w-20 lg:w-24 h-20 lg:h-24 rounded-full" src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;amp;ixlib=rb-1.2.1&amp;amp;auto=format&amp;amp;fit=crop&amp;amp;w=800&amp;amp;q=80" alt="" />
                        <div class="text-left">
                            <h4 class="mb-1 text-2xl font-bold text-gray-50">Joel Bjornson</h4>
                            <p class="text-white">Feb 11, 2011</p>
                        </div>
                    </div>
                </div>
                <div class="relative h-96 mb-20">
                    <img class="w-full h-full object-cover" src="https://images.unsplash.com/photo-1517171771326-cbc7f641008a?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;amp;ixlib=rb-1.2.1&amp;amp;auto=format&amp;amp;fit=crop&amp;amp;w=1200&amp;amp;q=80" alt="" />
                    <img class="absolute bottom-0 left-0 ml-4 lg:ml-12 -mb-16 lg:-mb-24 w-32 lg:w-48 h-40 lg:h-60 object-cover" src="https://images.unsplash.com/photo-1618938700817-fe48bd93f20b?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;amp;ixlib=rb-1.2.1&amp;amp;auto=format&amp;amp;fit=crop&amp;amp;w=800&amp;amp;q=80" alt="" />
                </div>
                <div class="max-w-4xl mx-auto markdown"><div ws-preserve=""><p>In this post I'll highlight some of the features of WebSharper formlets by implementing a user sign-up form. The examples make use of some common patterns including:</p>
<ul>
<li>Adding validation.</li>
<li>Using dependent formlets.</li>
<li>Submitting form results to the server.</li>
</ul>
<p>For a general introduction to WebSharper formlets see: <a href="https://github.com/dotnet-websharper/forms">Working with Formlets</a><a id="fnref:1" href="#fn:1" class="footnote-ref"><sup>1</sup></a>.</p>
<p>Let's start simple by constructing a basic formlet for collecting a user name and a password. The formlet below consists of two text-box fields for entering name and password, along with submit and reset buttons. The text-box fields are decorated with labels. The formlet produces values of the custom type <code>User</code>:</p>
<pre><code class="language-fsharp">type User =
    {
        Name : string
        Password : string
    }
</code></pre>
<pre><code class="language-fsharp">[&lt;JavaScript&gt;]
let SignUpForm =
    let userName =
        Controls.Input &quot;&quot;
        |&gt; Enhance.WithTextLabel &quot;User Name&quot;
    let password =
        Controls.Password &quot;&quot;
        |&gt; Enhance.WithTextLabel &quot;Password&quot;
    let user =
        Formlet.Yield (fun name password -&gt; 
            {Name = name; Password = password}
        )
        &lt;*&gt; userName
        &lt;*&gt; password
    user
    |&gt; Enhance.WithSubmitAndResetButtons
    |&gt; Enhance.WithFormContainer
</code></pre>
<blockquote>
<p><strong>Review note</strong> <br />
This resource needs to be re-added.
<img src="http://www.intellifactory.com/ShowDigitalAsset.aspx?DigitalAsset=169" alt="" /></p>
</blockquote>
<p>The text-box formlets are composed using <code>Formlet.Yield</code> and <code>&lt;*&gt;</code>. This way of grouping formlets is called <em>static composition</em>, since the constituting formlets do not depend on each other.</p>
<p>Next, we consider some enhancements. For example, adding validation in order to restrict the user from submitting and empty name and require a minimum length of the password. We could also enforce the user to retype the password.</p>
<p>Here is an extended version implementing both the validation and password retyping features.</p>
<pre><code class="language-fsharp">[&lt;JavaScript&gt;]
let SignUpForm =
    let userName =
        Controls.Input &quot;&quot;
        |&gt; Validator.IsNotEmpty &quot;Enter name&quot;
        |&gt; Enhance.WithValidationIcon
        |&gt; Enhance.WithTextLabel &quot;User Name&quot;
    let password =
        Formlet.Do {
            let! pw = 
                Controls.Password &quot;&quot;
                |&gt; Validator.Is (fun s -&gt; s.Length &gt;= 5) 
                    &quot;Minimum required length of password is five characters.&quot;
                |&gt; Enhance.WithValidationIcon
                |&gt; Enhance.WithTextLabel &quot;Select a Password&quot;
            return!
                Controls.Password &quot;&quot;
                |&gt; Validator.IsEqual pw &quot;Passwords must match.&quot;
                |&gt; Enhance.WithValidationIcon
                |&gt; Enhance.WithTextLabel &quot;Re-type password&quot;
        }
    let user =
        Formlet.Yield (fun name password -&gt; 
            {Name = name; Password = password}
        )
        &lt;*&gt; userName
        &lt;*&gt; password
    user
    |&gt; Enhance.WithSubmitAndResetButtons
    |&gt; Enhance.WithFormContainer
</code></pre>
<p>To implement the password retyping functionality, dependent formlets are used. In contrast to static composition, this is called <em>dynamic composition</em>. The password formlet in the code above is defined using the formlet builder (<code>Formlet.Do {..}</code>). The first component is a text-box formlet producing a string value. Everytime this formlet triggers a value a new text-box formlet is added. This formlet is enhanced with validation by comparing the value with the one produced by the first text-box. When the passwords do not match, a red icon is displayed and the the submission of the form is deactivated.</p>
<blockquote>
<p><strong>Review note</strong> <br />
This resource needs to be re-added.
<img src="http://www.intellifactory.com/ShowDigitalAsset.aspx?DigitalAsset=170" alt="" /></p>
</blockquote>
<p>The final step is to submit the form data by calling a server side method. Let's assume the following function:</p>
<pre><code class="language-fsharp">module Server =
    [&lt;Rpc&gt;]
    let SignUpUser(user: User) = ..
</code></pre>
<p>This function would contain the code for registering the uer and return a boolean value indicating whether succeeding or not.</p>
<p>To implement the submission, again dependent formlets can be utilized. In the final version below, the data from the user form is collected and sent to the server. Depending on the result of the server response one of two different messages are displayed to the user.</p>
<p>Here is the complete code:</p>
<pre><code class="language-fsharp">[&lt;JavaScript&gt;]
let SignUpForm =
    let userName =
        Controls.Input &quot;&quot;
        |&gt; Validator.IsNotEmpty &quot;Enter name&quot;
        |&gt; Enhance.WithValidationIcon
        |&gt; Enhance.WithTextLabel &quot;User Name&quot;
    let password =
        Formlet.Do {
            let! pw = 
                Controls.Password &quot;&quot;
                |&gt; Validator.Is (fun s -&gt; s.Length &gt;= 5) 
                    &quot;Minimum required length of password is five characters.&quot;
                |&gt; Enhance.WithValidationIcon
                |&gt; Enhance.WithTextLabel &quot;Select a Password&quot;
            return!
                Controls.Password &quot;&quot;
                |&gt; Validator.IsEqual pw &quot;Passwords must match.&quot;
                |&gt; Enhance.WithValidationIcon
                |&gt; Enhance.WithTextLabel &quot;Retype password&quot;
        }
    let user =
        Formlet.Yield (fun name password -&gt; 
            {Name = name; Password = password}
        )
        &lt;*&gt; userName
        &lt;*&gt; password

    Formlet.Do {
        let! user = Enhance.WithSubmitAndResetButtons user
        return! 
            Formlet.OfElement &lt;| fun _ -&gt;
                if Server.SignUpUser user then
                    Div [Attr.Class &quot;infoPanel&quot;] -&lt; [
                        Text &quot;Thanks, you are are now signed up.&quot;
                    ]
                else
                    Div [Attr.Class &quot;warningPanel&quot;] -&lt; [
                        Text &quot;Sorry, signing up failed. 
                                        Please select a different user name.&quot;
                    ]
    }
    |&gt; Enhance.WithFormContainer
</code></pre>
<p>And the corresponding form rendered in a browser:</p>
<blockquote>
<p><strong>Review note</strong> <br />
This resource needs to be re-added.
<img src="http://www.intellifactory.com/ShowDigitalAsset.aspx?DigitalAsset=171" alt="" /></p>
</blockquote>
<blockquote>
<p><strong>Review note</strong> <br />
This resource needs to be re-added.
<img src="http://www.intellifactory.com/ShowDigitalAsset.aspx?DigitalAsset=172" alt="" /></p>
</blockquote>
<div class="footnotes">
<hr />
<ol>
<li id="fn:1">
<p>This link has been updated to point to WebSharper reactive forms, which include further pointers on formlets.<a href="#fnref:1" class="footnote-back-ref">&#8617;</a></p>
</li>
</ol>
</div>
</div></div>
            </div>
        </section>
        <section class="py-20 2xl:py-40">
            <div class="container mx-auto px-4">
                <div class="flex flex-wrap -mx-4 pb-6 lg:pb-20 border-b border-gray-100">
                    <div class="w-full lg:w-3/5 px-4">
                        <div class="flex flex-wrap -mx-4">
                            <div class="w-1/2 lg:w-1/3 px-4 mb-12">
                                <h3 class="mb-8 lg:mb-14 text-xl font-bold font-heading">Zospace</h3>
                                <ul class="text-lg">
                                    <li class="mb-5"><a class="hover:underline" href="#">Hello</a></li>
                                    <li class="mb-5"><a class="hover:underline" href="#">Story</a></li>
                                    <li class="mb-5"><a class="hover:underline" href="#">Pricing</a></li>
                                    <li class="mb-5"><a class="hover:underline" href="#">Applications</a></li>
                                    <li class="mb-5"><a class="hover:underline" href="#">Stats</a></li>
                                    <li><a class="hover:underline" href="#">Blog</a></li>
                                </ul>
                            </div>
                            <div class="w-1/2 lg:w-1/3 px-4 mb-12">
                                <h3 class="mb-8 lg:mb-14 text-xl font-bold font-heading">Products</h3>
                                <ul class="text-lg">
                                    <li class="mb-5"><a class="hover:underline" href="#">Newsletter</a></li>
                                    <li class="mb-5"><a class="hover:underline" href="#">Features</a></li>
                                    <li class="mb-5"><a class="hover:underline" href="#">How it works</a></li>
                                    <li class="mb-5"><a class="hover:underline" href="#">FAQ&apos;s</a></li>
                                    <li class="mb-5"><a class="hover:underline" href="#">Portfolio</a></li>
                                    <li><a class="hover:underline" href="#">Team</a></li>
                                </ul>
                            </div>
                            <div class="w-full lg:w-1/3 px-4 mb-4">
                                <h3 class="mb-8 lg:mb-14 text-xl font-bold font-heading">Your Account</h3>
                                <ul class="text-lg">
                                    <li class="mb-5"><a class="hover:underline" href="#">New account</a></li>
                                    <li class="mb-5"><a class="hover:underline" href="#">Log in</a></li>
                                    <li class="mb-5"><a class="hover:underline" href="#">Testimonials</a></li>
                                    <li class="mb-5"><a class="hover:underline" href="#">Contact</a></li>
                                    <li class="mb-5"><a class="hover:underline" href="#">Privacy Policy</a></li>
                                    <li><a class="hover:underline" href="#">Cookies</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="w-full lg:w-2/5 px-4 order-first lg:order-last mb-16 lg:mb-0">
                        <h3 class="mb-16 text-xl font-bold">Newsletter</h3>
                        <form action="#">
                            <div class="md:max-w-sm mb-8 flex items-center bg-white border border-gray-100 rounded-full">
                                <span class="inline-block pl-6 lg:pl-10">
                                    <svg width="37" height="37" viewbox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="18.5" cy="18.5" r="9.5" fill="#1F40FF" fill-opacity="0.15"></circle><circle cx="18.5" cy="18.5" r="18.5" fill="#1F40FF" fill-opacity="0.06"></circle><circle cx="18.5" cy="18.5" r="2.5" fill="#282C36"></circle></svg>
                                </span>
                                <input class="pl-4 py-4 rounded-full placeholder-gray-900 font-bold" type="email" placeholder="Drop your Email" />
                                <button class="ml-auto px-4 px-8 lg:px-10 py-5 text-white font-bold bg-blue-500 hover:bg-blue-600 rounded-full transition duration-200">Ok</button>
                            </div>
                            <p class="text-gray-300">The brown fox jumps over the lazy dog.</p>
                        </form>
                    </div>
                </div>
                <div class="flex flex-wrap items-center pt-10 mb-8 lg:mb-0">
                    <div class="w-full md:w-1/2 mb-8 md:mb-0">
                        <div class="md:flex items-center">
                            <a class="inline-block text-gray-900 text-xl font-bold" href="#">
                                <img class="h-7" src="/files/logos/zospace-dark-logo.svg" alt="" width="auto" />
                            </a>
                            <span class="hidden md:inline-block mx-8 w-px h-8 bg-gray-50"></span>
                            <p class="hidden lg:block text-sm">
                                <span>&copy; 2021 Shuffle.</span>
                                <span class="text-gray-300">All rights reserved.</span>
                            </p>
                        </div>
                    </div>
                    <div class="w-full md:w-1/2">
                        <div class="md:flex items-center justify-end">
                            <a class="inline-block mr-2" href="#">
                                <img src="/files/logos/facebook.svg" alt="" />
                            </a>
                            <a class="inline-block mr-2" href="#">
                                <img src="/files/logos/instagram.svg" alt="" />
                            </a>
                            <a class="inline-block" href="#">
                                <img src="/files/logos/twitter.svg" alt="" />
                            </a>
                        </div>
                    </div>
                </div>
                <p class="lg:hidden text-sm">
                    <span>&copy; 2021 Shuffle.</span>
                    <span class="text-gray-300">All rights reserved.</span>
                </p>
            </div>
        </section>
        
    </div>
    
    <meta id='websharper-data' name='websharper-data' content='{"$TYPES":[],"$DATA":{"$V":{}}}' />
<script src="../../Scripts/WebSharper.Core.JavaScript/Runtime.js" type="text/javascript" charset="UTF-8"></script><script type="text/javascript">
if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '../../Scripts/';
  IntelliFactory.Runtime.Start();
}
</script>

    <script src="/js/Dynamic.min.js"></script>
</body>
</html>