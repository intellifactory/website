<!DOCTYPE html>
<html lang="en">
  <head>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-1291321-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-1291321-1');
    </script>
    <title>IntelliLogo</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="IntelliFactory" />
    <meta property="og:title" content="IntelliLogo" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://intellifactory.com/user/granicz/20241228-intellilogo" />
    <meta property="og:image" content="https://intellifactory.com/img/category3.jpg" />
    <meta property="og:description" content="" />
    <meta property="twitter:card" content="summary" />
    <meta property="twitter:site" content="@intellifactory" />
    <meta property="twitter:title" content="IntelliLogo" />
    <meta property="twitter:description" content="" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=DM+Sans:400,500,700&amp;subset=latin" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&amp;display=swap" />
    <link rel="stylesheet" href="/css/tailwind/tailwind.css" />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-tailwind.png" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js" type="text/javascript" charset="UTF-8"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/languages/fsharp.min.js" type="text/javascript" charset="UTF-8"></script><link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/styles/far.min.css"></link>
<!--[if lte IE 11.0]>
<![endif]-->
<!--[if lte IE 9.0]>
<![endif]-->

    <script src="/js/main.js"></script>
  </head>
  <body class="antialiased bg-body text-body font-body">
    <div>
      <section class="px-4 lg:px-10 bg-gray-800 px-2">
        <nav class="relative flex justify-between items-center py-2"><a class="text-2xl text-white font-bold" href="/"><span>Intelli</span>            <span class="text-blue-500 -ml-1">Factory</span></a>
          <div class="lg:hidden">
            <button class="p-2 navbar-burger">
              <svg class="w-10 h-3" width="39" height="13" viewbox="0 0 39 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="39" height="2" rx="1" fill="#C4C4C4"></rect>
                <rect x="19" y="11" width="20" height="2" rx="1" fill="#C4C4C4"></rect>
              </svg>
            </button>
          </div>
          <div class="hidden lg:block ml-auto mr-1">
            <ul class="flex items-center text-white space-x-10">
              <li class="hoverable"><a class="text-white font-bold text-lg" href="/">Home</a></li>
              <li class="hoverable-mm"><a class="text-white font-bold text-lg">Open Source</a>
                <div class="p-6 mega-menu mb-16 sm:mb-0 shadow-xl bg-blue-700">
                  <div class="container mx-auto w-full flex flex-wrap justify-between mx-2">
                    <ul class="px-4 w-full sm:w-1/2 lg:w-1/4 pb-6 pt-6 lg:pt-3">
                      <div class="flex items-center"><img class="h-8 mb-3 mr-3" src="/images/websharper.png" alt="WebSharper" />
                        <h3 class="font-bold text-xl text-white text-bold mb-2">WebSharper</h3>
                      </div>
                      <p class="text-gray-100 text-sm">Functional, reactive .NET web applications without writing JavaScript.</p>
                      <div class="flex items-center py-3"><a href="https://websharper.com" target="_blank"><img src="/images/category3-small.jpg" /></a></div>
                    </ul>
                    <ul class="px-4 w-full sm:w-1/2 lg:w-1/4 pb-6 pt-6 lg:pt-3">
                      <div class="flex items-center"><img class="h-8 mb-3 mr-3" src="/images/bolero.png" alt="Bolero" />
                        <h3 class="font-bold text-xl text-white text-bold mb-2">Bolero</h3>
                      </div>
                      <p class="text-gray-100 text-sm">Future-proof web applications running on WebAssembly instead of JavaScript.</p>
                      <div class="flex items-center py-3"><a href="https://fsbolero.io" target="_blank"><img src="/images/category6-small.jpg" /></a></div>
                    </ul>
                    <ul class="px-4 w-full sm:w-1/2 lg:w-1/4 pb-6 pt-6 lg:pt-3">
                      <div class="flex items-center"><img class="h-8 mb-3 mr-3 fill-current text-white" src="/images/sitefi.jpg" alt="SiteFi" />
                        <h3 class="font-bold text-xl text-white text-bold mb-2">SiteFi</h3>
                      </div>
                      <p class="text-gray-100 text-sm">.NET static web apps, markdown-based, multi-user blogs and documentation sites.</p>
                      <div class="flex items-center py-3"><a href="https://github.com/granicz/SiteFi" target="_blank"><img src="/images/category4-small.jpg" /></a></div>
                    </ul>
                    <ul class="px-4 w-full sm:w-1/2 lg:w-1/4 pb-6 pt-6 lg:pt-3">
                      <div class="flex items-center"><img class="h-8 mb-3 mr-3" src="/images/if-logo.png" alt="IntelliFactory" />
                        <h3 class="font-bold text-xl text-white text-bold mb-2">IntelliFactory Labs</h3>
                      </div>
                      <p class="text-gray-100 text-sm">Miscellaneous F# tools and other material. Some relics here and there.</p>
                      <div class="flex items-center py-3">
                        <svg class="h-6 pr-3 mr-1 fill-current text-teal-300" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20">
                          <path d="M20 10a10 10 0 1 1-20 0 10 10 0 0 1 20 0zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0zm-8 2H5V8h5V5l5 5-5 5v-3z"></path>
                        </svg><a class="font-bold" href="https://github.com/IntelliFactory" target="_blank">GitHub</a>
                      </div>
                    </ul>
                  </div>
                </div>
              </li>
              <li class="hoverable"><a class="text-white font-bold text-lg" href="/blogs">Blogs</a></li>
              <li class="hoverable"><a class="text-white font-bold text-lg" href="/careers">Careers</a></li>
              <li class="hoverable"><a class="text-white font-bold text-lg" href="/contact">Contact</a></li>
            </ul>
          </div>
        </nav>
        <div class="hidden navbar-menu fixed top-0 left-0 bottom-0 w-5/6 max-w-sm z-50">
          <div class="navbar-backdrop fixed inset-0 bg-gray-800 opacity-80"></div>
          <nav class="relative flex flex-col py-8 h-full w-full bg-white overflow-y-auto">
            <div class="flex items-center mb-16 pr-6"><a class="ml-10 text-2xl text-gray-800 font-bold" href="/"><img class="h-7" src="/images/if-logo-long.png" alt="IntelliFactory" /></a></div>
            <div class="hamburger">
              <ul>
                <li class="mb-1 px-10 table"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="/">Home</a></li>
                <li class="mb-1 px-10 table"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl">Open Source</a>
                  <ul class="inline table">
                    <li class="mb-1 px-10"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="https://websharper.com">WebSharper</a></li>
                    <li class="mb-1 px-10"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="https://fsbolero.io">Bolero</a></li>
                    <li class="mb-1 px-10"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="https://github.com/granicz/SiteFi">SiteFi</a></li>
                    <li class="mb-1 px-10"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="https://github.com/IntelliFactory">IF Labs</a></li>
                  </ul>
                </li>
                <li class="mb-1 px-10 table"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="/blogs">Blogs</a></li>
                <li class="mb-1 px-10 table"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="/careers">Careers</a></li>
                <li class="mb-1 px-10 table"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="/contact">Contact</a></li>
              </ul>
            </div>
            <div class="mt-auto px-10">
              <p class="mt-6 mb-4 text-lg text-center"><span>2004-2021 © IntelliFactory. All rights reserved.</span></p>
            </div>
          </nav>
        </div>
      </section>
      
      <section class="relative py-20 2xl:py-40 overflow-hidden">
        <div class="container px-4 mx-auto">
          <div class="max-w-4xl mx-auto text-center">
            <h2 class="bg-opacity-25 bg-gray-900 mb-14 text-6xl lg:text-7xl font-bold font-heading text-white">IntelliLogo</h2>
          </div><img class="absolute top-0 left-0 w-full h-full object-cover" style="z-index:-10;" src="/img/category3.jpg" alt="" />
        </div>
      </section>
      <section class="relative py-10 overflow-hidden bg-blueGray-100">
        <div class="container px-4 mx-auto">
          <div class="max-w-4xl mx-auto text-center">
            <div class="inline-flex items-center flex-wrap"><a href="/user/granicz"><img class="mr-8 w-20 lg:w-24 h-20 lg:h-24 rounded-full" src="/img/avatar/granicz.png" alt="Adam Granicz" /></a>
              <div class="flex-1 text-left"><a href="/user/granicz">
                  <h4 class="mb-1 text-2xl font-bold">Adam Granicz</h4></a>
                <p>Dec 28, 2024</p>
              </div>
              <div class="text-right ml-20 flex-1 flex-basis-100">
                <p class="mb-1 font-bold text-xl">Reading time:</p>
                <p>26 mins</p>
              </div>
              <div class="text-right ml-20 mt-3 flex-1 flex-basis-100">
                <p class="mb-1 font-bold text-xl">Share via:</p>
                <div><a class="inline-block mr-2" href="https://twitter.com/intent/tweet?text=IntelliLogo&amp;url=https%3a%2f%2fintellifactory.com%2fuser%2fgranicz%2f20241228-intellilogo">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#00acee">
                      <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"></path>
                    </svg></a>                  <a class="inline-block mr-2" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2fintellifactory.com%2fuser%2fgranicz%2f20241228-intellilogo">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#0e76a8">
                      <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-2 16h-2v-6h2v6zm-1-6.891c-.607 0-1.1-.496-1.1-1.109 0-.612.492-1.109 1.1-1.109s1.1.497 1.1 1.109c0 .613-.493 1.109-1.1 1.109zm8 6.891h-1.998v-2.861c0-1.881-2.002-1.722-2.002 0v2.861h-2v-6h2v1.093c.872-1.616 4-1.736 4 1.548v3.359z"></path>
                    </svg></a>                  <a class="inline-block" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fintellifactory.com%2fuser%2fgranicz%2f20241228-intellilogo">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#3b5998">
                      <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3 8h-1.35c-.538 0-.65.221-.65.778v1.222h2l-.209 2h-1.791v7h-3v-7h-2v-2h2v-2.308c0-1.769.931-2.692 3.029-2.692h1.971v3z"></path>
                    </svg></a></div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section class="py-20 bg-white overflow-hidden">
        <div class="container px-4 mx-auto">
          <div class="max-w-4xl mx-auto markdown"><div ws-preserve=""><p>(Happy Holidays everyone and sorry for the delay in getting this article out to you! Just want to say a huge thanks to Sergey Tihon for organizing F# Advent and to everyone who participated!)</p>
<p>I wrote an article nearly 20 years ago about <a href="https://intellifactory.com/user/granicz/20061124-a-logo-interpreter-under-400-lines">implementing a Logo interpreter in F# with 400 LOC</a>, and a fun fact is that it was the first article on this very blog. Back then, one of the coolest things about it was that it used partial active patterns to parse Logo programs and executed them in a desktop client.</p>
<p>In this article, I will give a quick overview of a more sophisticated rewrite, by implementing IntelliLogo, an abstract Logo &quot;virtual machine&quot; with a range of built-in functions and features, and adding a simple web UI around it using WebSharper. The <a href="https://logo.intellifactorylabs.com">resulting app</a> looks like this in action (click for a larger image):</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/assets/intellilogo-app.png"><img src="https://github.com/IntelliFactory/blogs/raw/master/assets/intellilogo-app.png" alt="" /></a></td>
<td><a href="/assets/intellilogo-warning.png"><img src="https://github.com/IntelliFactory/blogs/raw/master/assets/intellilogo-warning.png" alt="" /></a></td>
<td><a href="/assets/intellilogo-plant.png"><img src="https://github.com/IntelliFactory/blogs/raw/master/assets/intellilogo-plant.png" alt="" /></a></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Currently, WebSharper 8 is in beta, and it is most readily available from the WebSharper GitHub/developer feed. Check <a href="https://docs.websharper.com/basics/nuget/">here</a> about configuring your NuGet/Paket client to use these releases, you won't be able to compile the <a href="https://github.com/granicz/IntelliLogo">project</a> otherwise!</p>
<h3 id="try-it">Try it!</h3>
<p>(You will need the latest <code>dotnet</code> CLI and <code>npx</code> installed on your system.)</p>
<ol>
<li><p>Clone the repo: <code>git clone https://github.com/granicz/IntelliLogo</code></p>
</li>
<li><p>cd into the project: <code>cd IntelliLogo</code></p>
</li>
<li><p>Build and run it: <code>dotnet build</code></p>
</li>
<li><p>Run the client: <code>npx vite</code></p>
</li>
<li><p>Navigate to <code>https://localhost:xxxx</code>, where <code>xxxx</code> is the port the app is started on (as reported by vite)</p>
</li>
</ol>
</blockquote>
<h2 id="project-structure">Project structure</h2>
<pre><code>- IntelliLogo
   - AST.fs
   - Lexer.fsl
   - Parser.fsy
   - [Parser.fs]  -&gt; generated
   - [Lexer.fs]   -&gt; generated
   - Eval.fs
- Client
   - [AST.fs]     -&gt; from IntelliLogo
   - [Parser.fs]  -&gt; from IntelliLogo
   - [Lexer.fs]   -&gt; from IntelliLogo
   - [Eval.fs]    -&gt; from IntelliLogo
   - Builtins.fs
   - App.fs
</code></pre>
<h2 id="the-ast">The AST</h2>
<p>The types needed for the IntelliLogo VM are in <code>AST.fs</code>, the AST itself is pretty straightforward, with a constructor for each notable feature:</p>
<pre><code class="language-fsharp">module AST =
    type id = string * pos

    type Program = Statement list

    and Commands = Statement list
    
    and Statement =
        | FunDef of id * id list * Commands * pos
        | Repeat of Expr * Commands * pos
        | For of id * Expr * Expr * Expr option * Commands * pos
        | If of Expr * Commands * pos
        | IfElse of Expr * Commands * Commands * pos
        // make &quot;i 1
        | Make of id * Expr * pos
        // makelocal &quot;i 1
        | MakeLocal of id * Expr * pos
        // local &quot;i
        | Local of id * pos
        | FunCall of id * Expr list * pos
        // Expressions can be returned with &quot;output&quot;
        | Output of Expr * pos

    and Expr =
        | RepCount of pos
        | Var of string * pos
        | Number of float * pos
        | Word of string * pos
        | Text of string * pos
        | FunCall of id * Expr list * pos
        | List of Expr list * pos
        | Add of Expr * Expr * pos
        | Sub of Expr * Expr * pos
        | Mul of Expr * Expr * pos
        | Div of Expr * Expr * pos
        | Gt of Expr * Expr * pos
        | Lt of Expr * Expr * pos
        | Ge of Expr * Expr * pos
        | Le of Expr * Expr * pos
        | Eq of Expr * Expr * pos
        | NotEq of Expr * Expr * pos
</code></pre>
<p>For <code>pos</code>, we use a record type that wraps FsLexYacc's native <code>Lexing.Position</code> type and adds its own helpers, this way a consuming library doesn't have to know about lexing internals.</p>
<h2 id="the-parser">The parser</h2>
<p>For IntelliLogo, I decided to use a lexer/parser generator instead of the active pattern-based approach to benefit from a more formal way to describe IntelliLogo's syntax, although in the process I opted for a small but notable deviation from the mainstream LOGO syntax: function calls with zero or multiple arguments use parentheses to surround those arguments.</p>
<p>For instance, the following:</p>
<pre><code class="language-logo">LT 10 PENUP PRINT 1 2 3
</code></pre>
<p>need to be written as:</p>
<pre><code class="language-logo">LT 10 PENUP () PRINT (1 2 3)
</code></pre>
<p>Functions are defined the same way as in standard logo, no extra parentheses needed there.</p>
<p>An IntelliLogo program consists of a list of statements:</p>
<pre><code>program:
    | statements EOF {
        fst $1
    }
</code></pre>
<p>Here, <code>program</code> is a so-called non-terminal symbol, as opposed to terminal symbols which are fed from the lexer. We can write <code>statements</code>, and list of anything in general, as follows:</p>
<pre><code>statements:
    | statement {
        ...
    }
    | statement statements {
        ...
    }
</code></pre>
<p>Another useful grammar abstraction is expressing optionality. For statements, a &quot;possibly empty list of statements&quot; is written as:</p>
<pre><code>statements_opt:
    | {
        []
    }
    | statements {
        (fst $1)
    }
</code></pre>
<p>Note how the first rule is &quot;empty&quot;. The order of cases within a rule is not relevant, and the generated parser will always use the pattern that matches the longest input string.</p>
<p>Many statements use blocks of code (further statements) as part of their syntax, and put these bits inside brackets, for instance, conditionals or REPEAT blocks:</p>
<pre><code>REPEAT 10 [LT 10 FD 10]
</code></pre>
<p>To make parsing these inner blocks easier, we can introduce another rule for them:</p>
<pre><code>commands:
    | LBRACK statements_opt RBRACK {
        $2, pos.union $1 $3
    }
</code></pre>
<p>At this point, we can start specifying what statements we accept - function definitions, REPEAT and FOR statements, etc:</p>
<pre><code>statement:
    | TO ID vars_opt statements END {
        ...
    }
    | REPEAT expr commands {
        ...
    }
    | FOR LBRACK ID expr expr RBRACK commands {
        ...
    }
    ...
</code></pre>
<h3 id="handling-source-positions">Handling source positions</h3>
<p>An essential components of parsing IntelliLogo programs is keeping track of source regions that correspond to each parsed symbol. This involves aggregating the positions of the inner symbols within a production rule, and returning this combined source position as well. Consider a couple actual snippets from parsing expressions:</p>
<pre><code>expr:
    ...
    | ID LPAREN exprs RPAREN {
        let pos = pos.union (snd $1) $4
        FunCall ($1, fst $3, pos), pos
    }
    // A list is an expression, not to be confused with statement blocks.
    | LBRACK exprs_opt RBRACK {
        let pos = pos.union $1 $3
        List ($2, pos), pos
    }
    | expr PLUS expr {
        let pos = pos.union (snd $1) (snd $3)
        Add (fst $1, fst $3, pos), pos
    }
</code></pre>
<p>Here, some symbols (<code>ID</code>, <code>expr</code>) carry a value and a source position as a tuple, and we extract these to combine with other positions with <code>pos.union</code>, which simply creates a position value that spans its two input positions.</p>
<h2 id="the-evaluator">The evaluator</h2>
<p>The evaluator computes a <code>Value</code> for various AST forms. These values can be of a range of shapes:</p>
<pre><code class="language-fsharp">type Value =
    | Nothing
    | Number of float
    | Boolean of bool
    | Text of string
    | List of Value list
    | Explicit of Value

...

let evalCommands ... = ...
and evalStatements ... = ...
and evalExpr ... = ...
</code></pre>
<p>Statements eventually evaluate to <code>Nothing</code> (but may change the execution context), after all, these constructs don't return values like functions and expressions. <code>Explicit</code> marks values returned using the <code>OUTPUT</code> function - this shape is not strictly necessary, but I decided to keep it explicit in case I later wanted to add extra semantic checks around user-defined functions.</p>
<p>Each helper in the evaluator receives an <code>Environment</code>, the evaluation context, containing the global and local variables in scope, and the user-defined and built-in functions.</p>
<pre><code class="language-fsharp">type Environment =
    {
        GlobalVariables: Map&lt;string, Value&gt;
        LocalVariables: Map&lt;string, Value option&gt;
        Functions: Map&lt;string, (string list * Commands)&gt;
        BuiltIns: Map&lt;string, (Environment -&gt; pos -&gt; Value list -&gt; ((Environment * Value) * bool))&gt;
    }
</code></pre>
<p>When calling user-defined functions, the evaluator manages the environment, but built-in functions explicitly take and return an <code>Environment</code> value: this allows certain built-in functions (such as <code>debug_environment</code>) to examine/print it.</p>
<p>The evaluator helpers return a new environment and the computed value, along with a Boolean that signals whether the evaluation has been stopped using <code>STOP ()</code> - this function terminates the currently executing user-defined function and returns control to the caller (without a return value). (Under the cover, this shortcut logic is implemented in <code>List.foldUntil</code> - a custom extension method.)</p>
<pre><code class="language-fsharp">let rec evalCommands (env: Environment) commands : ((Environment * Value) * bool)=
    commands
    |&gt; List.foldUntil (fun (env, v) stmt -&gt;
        evalStatement env stmt
    ) (env, Value.Nothing)

// Evaluates a list of commands, assuming that they can only
// return a value via OUTPUT.
and evalStatementCommands env body =
    let (env, v), isStopped = evalCommands env body
    match v with
    | Value.Explicit v -&gt;
        (env, v), isStopped
    | _ -&gt;
        (env, Value.Nothing), isStopped

and evalStatement (env: Environment) stmt : (Environment * Value) * bool =
    match stmt with
    ...
    | Statement.IfElse(cond, yes, no, pos) -&gt;
        let env, v = evalExpr env cond
        match v with
        | Value.Boolean b -&gt;
            if b then
                evalStatementCommands env yes
            else
                evalStatementCommands env no
        | _ -&gt;
            raise (BooleanExpected (v, pos))
    | ...
...
// Expressions can't contain STOP
and evalExpr env = function
    | RepCount pos -&gt;
        evalExpr env (Var (&quot;repcount&quot;, pos))
    | Var (v, pos) -&gt;
        match Map.tryFind (v.ToLower()) env.GlobalVariables with
        | Some value -&gt;
            env, value
        | None -&gt;
            match Map.tryFind (v.ToLower()) env.LocalVariables with
            | Some (Some value) -&gt;
                env, value
            | Some None -&gt;
                raise (UninitializedLocalVariable(v, pos))
            | None -&gt;
                raise (UndefinedVariable(v, pos))
    | Expr.Number (n, _) -&gt;
        env, Value.Number n
    | Word (w, _) -&gt;
        env, Value.Text w
    | Expr.Text (txt, _) -&gt;
        env, Value.Text txt
    | FunCall ((f, fpos), args, pos) -&gt;
        let (env, v), _ = evalFunCall env ((f, fpos), args, pos)
        env, v
    | Expr.List (es, pos) -&gt;
        es
        |&gt; List.fold (fun (env, lst) e -&gt;
            let env, e = evalExpr env e
            env, e :: lst) (env, [])
        |&gt; fun (env, lst) -&gt;
            env, Value.List (List.rev lst)
    | Expr.Add (e1, e2, pos) -&gt;
        let env, v1 = evalExpr env e1
        let env, v2 = evalExpr env e2
        match v1, v2 with
        | Value.Number n1, Value.Number n2 -&gt;
            env, Value.Number (n1+n2)
        | _ -&gt;
            raise (ArgumentTypeMismatch (&quot;(+)&quot;, v1, v2, pos))
    ...
</code></pre>
<h3 id="error-handling-and-semantic-checking">Error handling and semantic checking</h3>
<p>Since we evaluate the AST directly, without using another internal representation (IR) more suited to execution, we have to do some sanity checks &quot;on the fly&quot;. These are handled via raising exceptions, which are then caught on the top-level (=the UI) and dealt with accordingly.</p>
<p>This also applies to the built-in functions, for instance, consider <code>random</code> (which takes the upper limit as an argument) and <code>stop</code> (which expects no arguments):</p>
<pre><code class="language-fsharp">let Core = [
    &quot;random&quot;, (fun env pos args -&gt;
        match args with
        | [Number n] -&gt;
            (env, Value.Number(rnd.Next(int n))), false
        | _ -&gt;
            raise (UnexpectedArgument (&quot;random&quot;, args, pos))
    )
    &quot;stop&quot;, (fun env pos args -&gt;
        match args with
        | [] -&gt;
            // Stop the execution of the current user-defined function
            (env, Value.Nothing), true
        | _ -&gt;
            raise (UnexpectedArgument (&quot;stop&quot;, args, pos))
    )
    ...
</code></pre>
<h2 id="the-client-ui">The client UI</h2>
<p>Now with the parsing and evalution bits in their own project, it's time to build a UI around the VM. This is contained in the <code>Client</code> project. This project references some of the same files from the <code>IntelliLogo</code> VM, as shown earlier in the project structure section.</p>
<p>Recompiling the same source files in a different project provides an important advantage: by making the <code>Client</code> project a WebSharper SPA, for instance, all code within gets compiled with WebSharper, and apart from code marked specifically for server-side use (RPCs, etc.), it is retargeted to JavaScript.</p>
<h3 id="introducing-websharper.fslexyacc">Introducing WebSharper.FsLexYacc</h3>
<p>Here is where another important piece comes in the play: WebSharper.FsLexYacc. This package adds a WebSharper proxy for <code>FsLexYacc.Runtime</code>, the library that is used by FsLexYacc-generated lexers and parsers, including the ones used in IntelliLogo.</p>
<p>This proxy allows WebSharper to compile the generated code to JavaScript, essentially, making it run in the browser.</p>
<h3 id="client-specific-built-in-functions">Client-specific built-in functions</h3>
<p>The IntelliLogo evaluator can receive additional built-in functions through the <code>Environment</code> context, in addition to the few stdlib functions implemented along with the VM. This enables us to plug in client-specific built-ins as well. These are defined in <code>Client\Builtins.fs</code>, and use an additional execution context, encapsulated in the <code>ClientBuiltins.LogoState</code> type:</p>
<pre><code class="language-fsharp">type LogoState =
    {
        mutable CanvasX : float
        mutable CanvasY : float
        mutable CurrentX : float
        mutable CurrentY : float
        mutable Direction : float
        mutable PenDown : bool
        mutable Ctx : CanvasRenderingContext2D
        mutable Console : Var&lt;string&gt; option
    }

let State =
    {
        CanvasX = 1000.
        CanvasY = 1000.
        CurrentX = 500.
        CurrentY = 500.
        Direction = 90.
        PenDown = true
        Ctx = null
        Console = None
    }
</code></pre>
<p><code>State</code> is then made available in the main SPA page. The <code>Ctx</code> field, which is an HTML5 <code>CanvasRenderingContext2D</code> backed by a <code>CANVAS</code> HTML element, and <code>Console</code>, a WebSharper.UI reactive variable bound to a UI element (the <code>TEXTAREA</code> that corresponds to the Console/Output widget in the app) are initialized when the application boots up.</p>
<p>Armed with UI-specific state/model, more stdlib functions can be injected as we initialize the main application - for instance, consider <code>home</code> (which clears the Logo drawing canvas and resets the turtle to the center), <code>rt</code>/<code>right</code> (which turn the turtle to the right), and <code>print</code> (which prints values to the console):</p>
<pre><code class="language-fsharp">let Core = [
    [&quot;home&quot;], (fun env _ args -&gt;
        State.CurrentX &lt;- 500
        State.CurrentY &lt;- 500
        (env, Value.Nothing), false
    )
    [&quot;rt&quot;; &quot;right&quot;], (fun env pos args -&gt;
        match args with
        | [Value.Number n] -&gt;
            TurtleOperations.RT n
        | _ -&gt;
            raise (NumberExpectedButGot(args, pos))
        (env, Value.Nothing), false
    )
    [&quot;print&quot;; &quot;pr&quot;], (fun env pos args -&gt;
        args |&gt; List.iter (fun arg -&gt;
            let s = NonListValueToString pos arg
            if State.Console.IsSome then
                Var.Concat(State.Console.Value, s + &quot; &quot;)
        )
        Var.Concat(State.Console.Value, &quot;\n&quot;)
        (env, Value.Nothing), false
    )
    ...
]
</code></pre>
<h3 id="the-actual-ui">The actual UI</h3>
<p>For the main IntelliLogo UI, I used ChatGPT to generate a Tailwind-based HTML page that has a toolbar and footer, and a resizeable main content panel that has a left-hand side code editor and a fill-rest preview panel with a bottom Console textarea.</p>
<p>In the toolbar, I threw in a center dropdown to contain a selection of built-in IntelliLogo snippets, and a handful of buttons for wiping the editor, zooming in/out of the preview canvas, running the code in the editor, and a light/dark theme selector.</p>
<p>Once I was finished with the HTML skeleton, I sprinkled in WebSharper attributes for each notable placeholder (<code>ws-replace</code>, <code>ws-hole</code>) and event handler (<code>ws-onclick</code>, etc.)</p>
<p>Then I brought the entire UI into scope using the WebSharper templating type provider:</p>
<pre><code class="language-fsharp">[&lt;JavaScript&gt;]
module Client =
    type MainTemplate = Template&lt;&quot;index.html&quot;, ClientLoad.FromDocument, ServerLoad.WhenChanged&gt;
</code></pre>
<p>... and started to populate the placeholders and implement the necessary event handlers:</p>
<pre><code class="language-fsharp">[&lt;SPAEntryPoint&gt;]
let Main =
    ... // Initialization - omitted
    MainTemplate()
        .Editor(editor)
        // We can put global initialization code here...
        .OAR_WithModel(...)
        .EditorOnKeyUp(fun e -&gt; UpdateCaretPosition e.Target)
        .EditorOnKeyDown(...)
        .EditorCol(EditorCaretPosition.View.Map(snd &gt;&gt; string))
        .EditorRow(EditorCaretPosition.View.Map(fst &gt;&gt; string))
        .ExampleOptions(...)
        ...
</code></pre>
<p>I paid attention to several smaller details to make the app much more pleasant to use: showing the caret's position to make it easier to track down syntax errors, keeping track of changes to selected snippets, warning on losing changes, saving the code in the editor so it survives page refreshes, remembering the selected theme, etc - you are welcome to take a look in the repo and play with adding more refinements.</p>
<p>Since I was planning to host the app in a static web container such as GitHub Pages, I thought it would be nice to add some dynamic functionality as well, namely, to initialize the Examples selector/dropdown from a configuration file.</p>
<p>For this, I used a <code>config.json</code> file in the examples folder in the repo, and read its contents as:</p>
<pre><code class="language-fsharp">type Example =
    {
        [&lt;Name &quot;name&quot;&gt;] Name: string
        [&lt;Name &quot;filename&quot;&gt;] FileName: string
    }

type Examples =
    {
        [&lt;Name &quot;examples&quot;&gt;] Examples : Example array
    }

let Examples : Var&lt;Example array&gt; = Var.Create [||]
let CurrentExampleSelected : Var&lt;string option&gt; = Var.Create None

let InitializeExampleSelector() =
    Communication.fetch&lt;Examples&gt; false &quot;/examples/config.json&quot;
        &lt;| fun exs -&gt;
            Examples := exs.Examples
        &lt;| fun error -&gt;
            printfn &quot;Error: %A&quot; error
</code></pre>
<p>Here, <code>Communications.fetch</code> is a simple helper to do an HTTP request:</p>
<pre><code class="language-fsharp">[&lt;JavaScript&gt;]
module Communication =
    let fetch&lt;'T&gt; (isRaw: bool) (url: string) (onSuccess: 'T -&gt; unit) (onError: string -&gt; unit) =
        let request = new XMLHttpRequest()
        request.Open(&quot;GET&quot;, url, true)
        request.OnReadyStateChange &lt;- fun _ -&gt;
            if request.ReadyState = XMLHttpRequest.DONE then
                if request.Status = 200 then
                    try
                        if isRaw then
                            box request.ResponseText :?&gt; 'T
                        else
                            Json.Parse(request.ResponseText) :?&gt; 'T
                        |&gt; onSuccess
                    with
                        | ex -&gt; onError $&quot;Parsing error: {ex.Message}&quot;
                else
                    onError $&quot;HTTP error: {request.StatusText}&quot;
        request.Send()
</code></pre>
<p>Once I call <code>InitializeExampleSelector</code> in the app's boot-up sequence, I can read <code>Examples</code> and bind it to the UI dropdown that contains the built-in examples, next to the few other chores I need to wire up for the other UI widgets.</p>
<p>Finally, adding the event handler for the Run button feels like a breeze:</p>
<pre><code class="language-fsharp">MainTemplate()
    // ...
    .OnRun(fun e -&gt;
        ClientBuiltins.State.Ctx &lt;- ..
        ClientBuiltins.State.Console &lt;- ...
        let input = editor.Value
        match IntelliLogo.Parse.ProgramFromString input with
        | Ok program -&gt;
            // ...
            let env = IntelliLogo.Evaluator.Environment.Create()
            // Inject the specific client builtins
            let env = ...
            try
                let (_, v), isStopped = IntelliLogo.Evaluator.evalCommands env program
                if isStopped then
                    Var.Concat(console, sprintf &quot;Program stopped.\n&quot;)
                Var.Concat(console, sprintf &quot;Result=%A\n&quot; v)
            with
            // Report errors
            | IntelliLogo.Evaluator.ArgumentTypeMismatch(f, v1, v2, pos) -&gt; ...
            | ...
</code></pre>
<h2 id="conclusion">Conclusion</h2>
<p>In this article, I walked through some of the implementation details of IntelliLogo: a Logo-like programming language with a web IDE. The main points of interest could be how easy it is to use lexer/parser generators to implement programming languages, or how much fun WebSharper made it to compile it into a web app using a ChatGPT-generated UI.</p>
<p>Extending the standard library with other Logo primitives can vastly enhance the value proposition. With a few more of these, here is a one-liner to showcase how to output text (a multiplication table) instead of turtle graphics:</p>
<pre><code class="language-logo">for [i 1 10] [repeat 10 [type form (repcount * :i 4 0)] pr()]
</code></pre>
<p>... which yields:</p>
<pre><code>   1   2   3   4   5   6   7   8   9  10
   2   4   6   8  10  12  14  16  18  20
   3   6   9  12  15  18  21  24  27  30
   4   8  12  16  20  24  28  32  36  40
   5  10  15  20  25  30  35  40  45  50
   6  12  18  24  30  36  42  48  54  60
   7  14  21  28  35  42  49  56  63  70
   8  16  24  32  40  48  56  64  72  80
   9  18  27  36  45  54  63  72  81  90
  10  20  30  40  50  60  70  80  90 100
</code></pre>
<p>As always, there is room for improvement: implementing Logo's higher-order primitives, more stdlib functions, adding the ability to halt execution, etc. I also thought of spinning off a 3D version, which would need 3D turtle primitives and could use an accelerated 3D graphics library such as ThreeJS. If you want to join me in creating these, don't hesitate to get in touch.</p>
<p>Happy holidays and happy coding!</p>
</div></div>
        </div>
      </section>
      <section class="py-20 bg-white">
        <div class="container px-4 mx-auto">
          <div class="flex flex-col lg:flex-row lg:justify-between lg:items-center mb-12">
            <div class="lg:w-2/3 lg:pr-16 mb-2 lg:mb-8">
              <h2 class="text-3xl md:text-4xl font-bold font-heading">Read more from </h2>
            </div>
            <div class="text-sm lg:text-base lg:w-1/3">
              <p class="leading-loose text-blueGray-500"><span>Can’t find what you were looking for? </span>                <a class="text-blue-600 hover:text-blue-700" href="/contact">Drop us a line</a>.
                              
              </p>
            </div>
          </div>
          <div class="flex flex-wrap -mx-4">
            <div class="w-full md:w-1/2 lg:w-1/4 px-4 mb-8"><a href="/user/granicz">
                <div class="inline-flex items-center"><img class="mr-2 w-4 h-4 lg:w-8 lg:h-8 rounded-full" src="/img/avatar/granicz.png" alt="Adam Granicz" />
                  <div class="flex-1 text-left"><span class="text-lg font-bold text-blueGray-400">Adam Granicz</span></div>
                </div></a>              <a href="/user/granicz/20240102-A-new-fullstack-SPA-template-for-WebSharper-and-whats-next">
                <h4 class="text-xl font-semibold">A new fullstack SPA template for WebSharper and what&#39;s next</h4></a>
              <p class="text-sm md:text-base text-blueGray-400">20240102 · 11 min read</p>
            </div><div class="w-full md:w-1/2 lg:w-1/4 px-4 mb-8"><a href="/user/granicz">
                <div class="inline-flex items-center"><img class="mr-2 w-4 h-4 lg:w-8 lg:h-8 rounded-full" src="/img/avatar/granicz.png" alt="Adam Granicz" />
                  <div class="flex-1 text-left"><span class="text-lg font-bold text-blueGray-400">Adam Granicz</span></div>
                </div></a>              <a href="/user/granicz/20221229-full-stack-fsharp-with-charting-reactive-forms-and-more-under-300-loc-with-websharper">
                <h4 class="text-xl font-semibold">Full-stack F# with charting, reactive forms, and more under 300 LOC with WebSharper</h4></a>
              <p class="text-sm md:text-base text-blueGray-400">20221229 · 30 min read</p>
            </div><div class="w-full md:w-1/2 lg:w-1/4 px-4 mb-8"><a href="/user/granicz">
                <div class="inline-flex items-center"><img class="mr-2 w-4 h-4 lg:w-8 lg:h-8 rounded-full" src="/img/avatar/granicz.png" alt="Adam Granicz" />
                  <div class="flex-1 text-left"><span class="text-lg font-bold text-blueGray-400">Adam Granicz</span></div>
                </div></a>              <a href="/user/granicz/20211230-ContentManagedWebSharperAppsWithCustomWebControlsAndTemplating">
                <h4 class="text-xl font-semibold">Content-managed WebSharper apps with custom web controls and templating</h4></a>
              <p class="text-sm md:text-base text-blueGray-400">20211230 · 20 min read</p>
            </div><div class="w-full md:w-1/2 lg:w-1/4 p-4 mb-8 bg-gray-50 rounded-3xl"><a href="https://github.com/IntelliFactory/blogs/tree/master/user/granicz/20241228-intellilogo.md">
                <div class="inline-flex items-center"><img class="mr-2 w-4 h-4 lg:w-8 lg:h-8 rounded-full" src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="Adam Granicz" />
                  <div class="flex-1 text-left"><span class="text-lg font-bold text-blueGray-400">Found a typo?</span></div>
                </div></a>
              <h4 class="text-xl font-semibold">This blog post is hosted on GitHub <a href="https://github.com/IntelliFactory/blogs/tree/master/user/granicz/20241228-intellilogo.md">here</a>. Feel free to file a ticket or send a PR.</h4>
            </div>
            
            
          </div>
        </div>
      </section>
      
      
      <section class="2xl:pt-16 xl:pb-8 py-5 bg-blueGray-50">
        <div class="container mx-auto px-4">
          <div class="flex flex-wrap border-b border-gray-100 pt-5 lg:pt-10">
            <div class="w-full lg:w-3/5 px-4">
              <div class="flex flex-wrap px-5 pb-4">
                <div class="w-1/2 lg:w-1/3 mb-12">
                  <h3 class="mb-8 lg:mb-10 text-xl font-bold font-heading">IntelliFactory</h3>
                  <ul class="text-lg">
                    <li class="mb-4"><a class="hover:underline" href="/blogs">Blogs</a></li>
                    <li class="mb-4"><a class="hover:underline" href="/careers">Careers</a></li>
                    <li><a href="/contact">Contact</a></li>
                  </ul>
                </div>
                <div class="w-full lg:w-1/3 px-4 mb-4">
                  <h3 class="mb-8 lg:mb-10 text-xl font-bold font-heading">Services</h3>
                  <ul class="text-lg">
                    <li class="mb-4"><a class="hover:underline" href="/home#consulting">Consulting</a></li>
                    <li class="mb-4"><a class="hover:underline" href="/home#trainings">Trainings</a></li>
                    <li class="mb-4"><a class="hover:underline" href="/home#code-synthesis">AI-driven Code Synthesis</a></li>
                    <li class="mb-4"><a class="hover:underline" href="/home#dsls">Domain-Specific Languages</a></li>
                  </ul>
                </div>
                <div class="w-1/2 lg:w-1/3 px-4 mb-12">
                  <h3 class="mb-8 lg:mb-10 text-xl font-bold font-heading">Open Source</h3>
                  <ul class="text-lg">
                    <li class="mb-4"><a class="hover:underline" href="https://websharper.com">WebSharper</a></li>
                    <li class="mb-4"><a class="hover:underline" href="https://fsbolero.io">Bolero</a></li>
                    <li class="mb-4"><a class="hover:underline" href="#">From our Lab</a></li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="w-full lg:w-2/5 px-4 order-first lg:order-last mb-16 lg:mb-0">
              <h3 class="mb-10 text-xl font-bold">Newsletter</h3>
              <form method="post" id="newsletter-form">
                <div class="md:max-w-sm mb-8 flex items-center bg-white border border-gray-100 rounded-full"><span class="inline-block pl-2 lg:pl-5">
                    <svg width="37" height="37" viewbox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="18.5" cy="18.5" r="9.5" fill="#1F40FF" fill-opacity="0.15"></circle>
                      <circle cx="18.5" cy="18.5" r="18.5" fill="#1F40FF" fill-opacity="0.06"></circle>
                      <circle cx="18.5" cy="18.5" r="2.5" fill="#282C36"></circle>
                    </svg></span>
                  <input id="newsletter-input" class="pl-4 py-2 focus:outline-none rounded-full placeholder-gray-900 font-bold" type="email" placeholder="Your email address" />
                  <button id="signup" class="ml-auto px-6 lg:px-8 py-4 text-white font-bold bg-blue-500 hover:bg-blue-600 rounded-full transition duration-200">Ok</button>
                </div>
                <div id="newsletter-alert-list"></div>
                <p class="text-gray-300">We will not spam you or give your details to anyone.</p>
              </form>
            </div>
          </div>
          <div class="flex flex-wrap items-center mb-8 lg:mb-0 pt-5">
            <div class="hidden md:block w-full md:w-3/4 mb-8 md:mb-0">
              <div class="md:flex items-center"><a class="inline-block text-gray-900 text-xl font-bold" href="#"><img class="h-7" src="/images/if-logo-long.png" alt="IntelliFactory" width="auto" /></a>              <span class="hidden md:inline-block mx-8 w-px h-8 bg-gray-50"></span>
                <p class="hidden lg:block text-sm text-gray-300"><span class="text-gray-700">Copyright © 2004-2021 IntelliFactory.</span>                All rights reserved. Made with
                                  <img width="16" height="20" style="display:inline;vertical-align:middle;" alt="Love" src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Love_Heart_SVG.svg/32px-Love_Heart_SVG.svg.png" />                in 100% F#.
                                
                </p>
              </div>
            </div>
            <div class="w-full md:w-1/4">
              <div class="md:flex items-center justify-end"><a class="inline-block mr-2" href="https://github.com/intellifactory">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
                  </svg></a>              <a class="inline-block mr-2" href="https://facebook.com/intellifactory">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#3b5998">
                    <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3 8h-1.35c-.538 0-.65.221-.65.778v1.222h2l-.209 2h-1.791v7h-3v-7h-2v-2h2v-2.308c0-1.769.931-2.692 3.029-2.692h1.971v3z"></path>
                  </svg></a>              <a class="inline-block mr-2" href="https://twitter.com/intellifactory">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#00acee">
                    <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"></path>
                  </svg></a>              <a class="inline-block mr-2" href="https://www.linkedin.com/company/intellifactory">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#0e76a8">
                    <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-2 16h-2v-6h2v6zm-1-6.891c-.607 0-1.1-.496-1.1-1.109 0-.612.492-1.109 1.1-1.109s1.1.497 1.1 1.109c0 .613-.493 1.109-1.1 1.109zm8 6.891h-1.998v-2.861c0-1.881-2.002-1.722-2.002 0v2.861h-2v-6h2v1.093c.872-1.616 4-1.736 4 1.548v3.359z"></path>
                  </svg></a>              <a class="inline-block" href="https://vimeo.com/user15828007">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#86c9ef">
                    <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.82 11.419c-1.306 2.792-4.463 6.595-6.458 6.595-1.966 0-2.25-4.192-3.324-6.983-.527-1.372-.868-1.058-1.858-.364l-.604-.779c1.444-1.27 2.889-2.745 3.778-2.826.998-.096 1.615.587 1.845 2.051.305 1.924.729 4.91 1.472 4.91.577 0 2.003-2.369 2.076-3.215.13-1.24-.912-1.277-1.815-.89 1.43-4.689 7.383-3.825 4.888 1.501z"></path>
                  </svg></a></div>
            </div>
          </div>
        </div>
      </section>
      
      <div>
        
        <meta id='websharper-data' name='websharper-data' content='{"$TYPES":[],"$DATA":{"$V":{}}}' />
<script src="../../Scripts/WebSharper.Core.JavaScript/Runtime.js" type="text/javascript" charset="UTF-8"></script><script type="text/javascript">
if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '../../Scripts/';
  IntelliFactory.Runtime.Start();
}
</script>

        <script src="/js/Dynamic.js"></script>
      </div>
    </div>
  </body>
</html>