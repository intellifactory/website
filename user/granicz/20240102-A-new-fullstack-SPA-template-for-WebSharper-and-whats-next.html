<!DOCTYPE html>
<html lang="en">
  <head>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-1291321-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-1291321-1');
    </script>
    <title>A new fullstack SPA template for WebSharper and what&#39;s next</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="IntelliFactory" />
    <meta property="og:title" content="A new fullstack SPA template for WebSharper and what&#39;s next" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://intellifactory.com/user/granicz/20240102-A-new-fullstack-SPA-template-for-WebSharper-and-whats-next" />
    <meta property="og:image" content="https://intellifactory.com/img/category3.jpg" />
    <meta property="og:description" content="" />
    <meta property="twitter:card" content="summary" />
    <meta property="twitter:site" content="@intellifactory" />
    <meta property="twitter:title" content="A new fullstack SPA template for WebSharper and what&#39;s next" />
    <meta property="twitter:description" content="" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=DM+Sans:400,500,700&amp;subset=latin" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&amp;display=swap" />
    <link rel="stylesheet" href="/css/tailwind/tailwind.css" />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-tailwind.png" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js" type="text/javascript" charset="UTF-8"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/languages/fsharp.min.js" type="text/javascript" charset="UTF-8"></script><link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/styles/far.min.css"></link>
<!--[if lte IE 11.0]>
<![endif]-->
<!--[if lte IE 9.0]>
<![endif]-->

    <script src="/js/main.js"></script>
  </head>
  <body class="antialiased bg-body text-body font-body">
    <div>
      <section class="px-4 lg:px-10 bg-gray-800 px-2">
        <nav class="relative flex justify-between items-center py-2"><a class="text-2xl text-white font-bold" href="/"><span>Intelli</span>            <span class="text-blue-500 -ml-1">Factory</span></a>
          <div class="lg:hidden">
            <button class="p-2 navbar-burger">
              <svg class="w-10 h-3" width="39" height="13" viewbox="0 0 39 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="39" height="2" rx="1" fill="#C4C4C4"></rect>
                <rect x="19" y="11" width="20" height="2" rx="1" fill="#C4C4C4"></rect>
              </svg>
            </button>
          </div>
          <div class="hidden lg:block ml-auto mr-1">
            <ul class="flex items-center text-white space-x-10">
              <li class="hoverable"><a class="text-white font-bold text-lg" href="/">Home</a></li>
              <li class="hoverable-mm"><a class="text-white font-bold text-lg">Open Source</a>
                <div class="p-6 mega-menu mb-16 sm:mb-0 shadow-xl bg-blue-700">
                  <div class="container mx-auto w-full flex flex-wrap justify-between mx-2">
                    <ul class="px-4 w-full sm:w-1/2 lg:w-1/4 pb-6 pt-6 lg:pt-3">
                      <div class="flex items-center"><img class="h-8 mb-3 mr-3" src="/images/websharper.png" alt="WebSharper" />
                        <h3 class="font-bold text-xl text-white text-bold mb-2">WebSharper</h3>
                      </div>
                      <p class="text-gray-100 text-sm">Functional, reactive .NET web applications without writing JavaScript.</p>
                      <div class="flex items-center py-3"><a href="https://websharper.com" target="_blank"><img src="/images/category3-small.jpg" /></a></div>
                    </ul>
                    <ul class="px-4 w-full sm:w-1/2 lg:w-1/4 pb-6 pt-6 lg:pt-3">
                      <div class="flex items-center"><img class="h-8 mb-3 mr-3" src="/images/bolero.png" alt="Bolero" />
                        <h3 class="font-bold text-xl text-white text-bold mb-2">Bolero</h3>
                      </div>
                      <p class="text-gray-100 text-sm">Future-proof web applications running on WebAssembly instead of JavaScript.</p>
                      <div class="flex items-center py-3"><a href="https://fsbolero.io" target="_blank"><img src="/images/category6-small.jpg" /></a></div>
                    </ul>
                    <ul class="px-4 w-full sm:w-1/2 lg:w-1/4 pb-6 pt-6 lg:pt-3">
                      <div class="flex items-center"><img class="h-8 mb-3 mr-3 fill-current text-white" src="/images/sitefi.jpg" alt="SiteFi" />
                        <h3 class="font-bold text-xl text-white text-bold mb-2">SiteFi</h3>
                      </div>
                      <p class="text-gray-100 text-sm">.NET static web apps, markdown-based, multi-user blogs and documentation sites.</p>
                      <div class="flex items-center py-3"><a href="https://github.com/granicz/SiteFi" target="_blank"><img src="/images/category4-small.jpg" /></a></div>
                    </ul>
                    <ul class="px-4 w-full sm:w-1/2 lg:w-1/4 pb-6 pt-6 lg:pt-3">
                      <div class="flex items-center"><img class="h-8 mb-3 mr-3" src="/images/if-logo.png" alt="IntelliFactory" />
                        <h3 class="font-bold text-xl text-white text-bold mb-2">IntelliFactory Labs</h3>
                      </div>
                      <p class="text-gray-100 text-sm">Miscellaneous F# tools and other material. Some relics here and there.</p>
                      <div class="flex items-center py-3">
                        <svg class="h-6 pr-3 mr-1 fill-current text-teal-300" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 20 20">
                          <path d="M20 10a10 10 0 1 1-20 0 10 10 0 0 1 20 0zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0zm-8 2H5V8h5V5l5 5-5 5v-3z"></path>
                        </svg><a class="font-bold" href="https://github.com/IntelliFactory" target="_blank">GitHub</a>
                      </div>
                    </ul>
                  </div>
                </div>
              </li>
              <li class="hoverable"><a class="text-white font-bold text-lg" href="/blogs">Blogs</a></li>
              <li class="hoverable"><a class="text-white font-bold text-lg" href="/careers">Careers</a></li>
              <li class="hoverable"><a class="text-white font-bold text-lg" href="/contact">Contact</a></li>
            </ul>
          </div>
        </nav>
        <div class="hidden navbar-menu fixed top-0 left-0 bottom-0 w-5/6 max-w-sm z-50">
          <div class="navbar-backdrop fixed inset-0 bg-gray-800 opacity-80"></div>
          <nav class="relative flex flex-col py-8 h-full w-full bg-white overflow-y-auto">
            <div class="flex items-center mb-16 pr-6"><a class="ml-10 text-2xl text-gray-800 font-bold" href="/"><img class="h-7" src="/images/if-logo-long.png" alt="IntelliFactory" /></a></div>
            <div class="hamburger">
              <ul>
                <li class="mb-1 px-10 table"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="/">Home</a></li>
                <li class="mb-1 px-10 table"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl">Open Source</a>
                  <ul class="inline table">
                    <li class="mb-1 px-10"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="https://websharper.com">WebSharper</a></li>
                    <li class="mb-1 px-10"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="https://fsbolero.io">Bolero</a></li>
                    <li class="mb-1 px-10"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="https://github.com/granicz/SiteFi">SiteFi</a></li>
                    <li class="mb-1 px-10"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="https://github.com/IntelliFactory">IF Labs</a></li>
                  </ul>
                </li>
                <li class="mb-1 px-10 table"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="/blogs">Blogs</a></li>
                <li class="mb-1 px-10 table"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="/careers">Careers</a></li>
                <li class="mb-1 px-10 table"><a class="block pl-8 py-4 text-xl text-gray-800 hover:bg-blueGray-50 rounded-xl" href="/contact">Contact</a></li>
              </ul>
            </div>
            <div class="mt-auto px-10">
              <p class="mt-6 mb-4 text-lg text-center"><span>2004-2021 © IntelliFactory. All rights reserved.</span></p>
            </div>
          </nav>
        </div>
      </section>
      
      <section class="relative py-20 2xl:py-40 overflow-hidden">
        <div class="container px-4 mx-auto">
          <div class="max-w-4xl mx-auto text-center">
            <h2 class="bg-opacity-25 bg-gray-900 mb-14 text-6xl lg:text-7xl font-bold font-heading text-white">A new fullstack SPA template for WebSharper and what&#39;s next</h2>
          </div><img class="absolute top-0 left-0 w-full h-full object-cover" style="z-index:-10;" src="/img/category3.jpg" alt="" />
        </div>
      </section>
      <section class="relative py-10 overflow-hidden bg-blueGray-100">
        <div class="container px-4 mx-auto">
          <div class="max-w-4xl mx-auto text-center">
            <div class="inline-flex items-center flex-wrap"><a href="/user/granicz"><img class="mr-8 w-20 lg:w-24 h-20 lg:h-24 rounded-full" src="/img/avatar/granicz.png" alt="Adam Granicz" /></a>
              <div class="flex-1 text-left"><a href="/user/granicz">
                  <h4 class="mb-1 text-2xl font-bold">Adam Granicz</h4></a>
                <p>Jan 02, 2024</p>
              </div>
              <div class="text-right ml-20 flex-1 flex-basis-100">
                <p class="mb-1 font-bold text-xl">Reading time:</p>
                <p>11 mins</p>
              </div>
              <div class="text-right ml-20 mt-3 flex-1 flex-basis-100">
                <p class="mb-1 font-bold text-xl">Share via:</p>
                <div><a class="inline-block mr-2" href="https://twitter.com/intent/tweet?text=A+new+fullstack+SPA+template+for+WebSharper+and+what%27s+next&amp;url=https%3a%2f%2fintellifactory.com%2fuser%2fgranicz%2f20240102-A-new-fullstack-SPA-template-for-WebSharper-and-whats-next">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#00acee">
                      <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"></path>
                    </svg></a>                  <a class="inline-block mr-2" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3a%2f%2fintellifactory.com%2fuser%2fgranicz%2f20240102-A-new-fullstack-SPA-template-for-WebSharper-and-whats-next">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#0e76a8">
                      <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-2 16h-2v-6h2v6zm-1-6.891c-.607 0-1.1-.496-1.1-1.109 0-.612.492-1.109 1.1-1.109s1.1.497 1.1 1.109c0 .613-.493 1.109-1.1 1.109zm8 6.891h-1.998v-2.861c0-1.881-2.002-1.722-2.002 0v2.861h-2v-6h2v1.093c.872-1.616 4-1.736 4 1.548v3.359z"></path>
                    </svg></a>                  <a class="inline-block" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fintellifactory.com%2fuser%2fgranicz%2f20240102-A-new-fullstack-SPA-template-for-WebSharper-and-whats-next">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#3b5998">
                      <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3 8h-1.35c-.538 0-.65.221-.65.778v1.222h2l-.209 2h-1.791v7h-3v-7h-2v-2h2v-2.308c0-1.769.931-2.692 3.029-2.692h1.971v3z"></path>
                    </svg></a></div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section class="py-20 bg-white overflow-hidden">
        <div class="container px-4 mx-auto">
          <div class="max-w-4xl mx-auto markdown"><div ws-preserve=""><p>First off, Happy 2024 everyone! This is the last (belated, sorry!) entry in the F# Advent (FSA) 2023 calendar, and I would like to thank Sergey for organizing, and all those who contributed to make it AGAIN a goldmine for F# content! No better way to spend December and the start of the new year than reading about how productive F# can make you!</p>
<h2 id="introducing-fullstack-spa">Introducing <code>fullstack-spa</code></h2>
<table>
<thead>
<tr>
<th>Tables</th>
<th>Charts</th>
<th>Forms</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="/assets/fullstack-spa-Tables.png"><img src="https://github.com/IntelliFactory/blogs/raw/master/assets/fullstack-spa-Tables.png" alt="" /></a></td>
<td><a href="/assets/fullstack-spa-Charting.png"><img src="https://github.com/IntelliFactory/blogs/raw/master/assets/fullstack-spa-Charting.png" alt="" /></a></td>
<td><a href="/assets/fullstack-spa-Forms.png"><img src="https://github.com/IntelliFactory/blogs/raw/master/assets/fullstack-spa-Forms.png" alt="" /></a></td>
</tr>
</tbody>
</table>
<blockquote>
<p>Currently, WebSharper 7 is in beta, latest version is <code>beta-4</code> - available from the WebSharper developer feed. Check <a href="https://docs.websharper.com/basics/nuget/">here</a> about configuring your NuGet/Paket client to use these releases, you won't be able to compile the <a href="https://github.com/granicz/fullstack-spa">project</a> otherwise!</p>
<h3 id="try-it">Try it!</h3>
<ol>
<li><p>Clone the repo: <code>git clone https://github.com/granicz/fullstack-spa</code></p>
</li>
<li><p>cd into the project: <code>cd fullstack-spa</code></p>
</li>
<li><p>Build and run it: <code>dotnet run</code></p>
</li>
<li><p>Navigate to <code>https://localhost:xxxx</code>, where <code>xxxx</code> is the port the app is started on (as reported by vite)</p>
</li>
</ol>
</blockquote>
<hr />
<p>Recently, I teamed up with others to build a handful of new project templates (PTs) for the upcoming WebSharper 7, and to release these individually (so you can install them on-demand) as we go without any special ties to <a href="https://www.nuget.org/packages/WebSharper.Templates/">WebSharper.Templates</a>, the main collection of PTs that contains the standard fullstack (<code>websharper-web</code>), SPA (<code>websharper-spa</code>), static website (<code>websharper-html</code>), library (<code>websharper-lib</code>), microservice (<code>websharper-svc</code>), .NET proxy (<code>websharper-prx</code>), and JavaScript binding (<code>websharper-ext</code>) PTs that you might already be familiar with.</p>
<p>For one of these new PTs, I decided to take my &quot;Full-stack F# with charting, reactive forms, and more under 300 LOC with WebSharper&quot; <a href="https://github.com/granicz/fsadvent2022">FSAdvent2022 project</a> from last year's FSA, and modernize it with a few overdue changes and enhancements.</p>
<p><a href="https://twitter.com/granicz/status/1609060870289489920"><img src="/assets/X-fullstack-300.png" alt="image" width="50%" height="auto" /></a></p>
<p>For the general idea and walkthrough of the charting and forms bits, feel free to refer to the <a href="https://intellifactory.com/user/granicz/20221229-full-stack-fsharp-with-charting-reactive-forms-and-more-under-300-loc-with-websharper">article</a> - it's a fun read! As for the rest of the updated version, here is a quick summary.</p>
<h3 id="tailwind-for-ui">Tailwind for UI</h3>
<p>The <code>fullstack-spa</code> PT uses an MIT-licensed <a href="https://tailwindcss.com/">Tailwind</a>-based template, <a href="https://github.com/estevanmaito/windmill-dashboard">Windmill Dashboard</a> by <a href="https://github.com/estevanmaito">@estevanmaito</a>, part of the <a href="https://windmillui.com/">Windmill UI suite</a>. It's a lovely free resource for web devs, supports dark/light modes, comes with a bundle of prebuilt admin and other components/pages, etc. - so be sure to support Estevan's work in any way you can.</p>
<p>Changing, or even swapping out the presentation layer entirely only requires changing a single file (<code>client/index.html</code>). Since the PT uses WebSharper.UI templating, be sure to correctly apply the templating attributes (<code>ws-*</code>) for any new UI building block. These then will expose new types and members for your F# code to use for each template, placeholder, etc in the source template. Type-safe templating for the win!</p>
<h3 id="code-reorganization-and-a-separate-build-project">Code reorganization and a separate build project</h3>
<p>Instead of the <a href="https://github.com/granicz/fsadvent2022">FSAdvent2022 application</a>'s single F# project to hold both the server and client-side, these are now split into three separate F# projects: <code>client</code>, <code>server</code>, and <code>shared</code>. This is not strictly necessary as the WebSharper Booster (which is responsible for cached compilation of WebSharper projects) usually recompiles colocated client+server code in a 2-3-4 seconds, it can, however, result in faster turn-around times if your changes to be compiled are only in your client-side code.</p>
<p>The new build project (<code>Build.fsproj</code> and <code>build/build.fs</code>) follows the typical FAKE layout that you might have seen with other web apps, with a <code>Run</code> target to build and watch the client/server projects and starting a <code>vite</code> server. The client project uses the WebSharper CLI to provide a more streamlined watch functionality, bypassing ordinary MSBuild logic, and recompilation after changing+saving source files takes ~1.5 seconds. The page is also automatically refreshed, thanks to vite's development mode.</p>
<p><a href="https://github.com/IntelliFactory/blogs/raw/master/assets/watch-recompilation.png"><img src="/assets/watch-recompilation.png" alt="image" width="50%" height="auto"></a></p>
<h3 id="esm-output-and-vite">ESM output and Vite</h3>
<p>WebSharper 7 produces one-file-per-type (OFPT) ESM output and TypeScript declarations, and while it has its own dead-code eliminator and bundler, it is also designed to readily integrate with standard JavaScript tooling, and this PT is no exception: it comes with <a href="https://vitejs.dev/">vite</a> for running an ESM development server and providing production mode bundling.</p>
<p>To start your app, all you need is to trigger the <code>Run</code> target:</p>
<pre><code>dotnet run
</code></pre>
<p><a href="https://github.com/IntelliFactory/blogs/raw/master/assets/vite.png"><img src="/assets/vite.png" alt="image" width="50%" height="auto"></a></p>
<h3 id="femto">Femto</h3>
<p>WebSharper 7 JavaScript bindings/NuGet packages are compatible with <a href="https://github.com/Zaid-Ajaj/Femto">femto</a> for managing their underlying npm dependencies. You can use femto to finetune/update/validate package references in your <code>packages.config</code> as needed, and otherwise just continue adding new WebSharper references as NuGet.</p>
<h3 id="record-style-rpcs">Record-style RPCs</h3>
<p>WebSharper 7 remoting supports record-style RPCs, in addition to annotated RPCs and classes used in previous releases. One added benefit is that WebSharper RPCs are now also callable from <a href="https://github.com/Zaid-Ajaj/Fable.Remoting">Fable.Remoting</a> clients (as long as the types involved are supported by the caller code), and vice versa with minimal code changes.</p>
<p>For instance, here is the RPC contract from <code>shared</code> that can supply an array of customer transactions:</p>
<pre><code class="language-fsharp">namespace Shared

open WebSharper

module DTO =
    type Client =
        {
            FirstName: string
            LastName: string
            Position: string
            AvatarUrl: string
        }

    type Status =
        | Approved
        | Pending
        | Denied
        | Expired

    type Transaction =
        {
            To: Client
            Amount: float
            Status: Status
            Date: System.DateTime
        }

(*
 * A record type to hold our RPCs.
 * For discovering these RPCs, they need to be marked
 * with the [&lt;Rpc&gt;] attribute.
 *)
type IApi = {
    [&lt;Rpc&gt;]
    GetAllTransactions : unit -&gt; Async&lt;DTO.Transaction array&gt;
}
</code></pre>
<p>And here is the implementation code from <code>server</code>:</p>
<pre><code class="language-fsharp">module Service

open Shared
open Shared.DTO

let server : IApi = {
    GetAllTransactions = fun () -&gt;
        async {
            ...
        }
    }

// Register the server-side handler for the RPCs.
WebSharper.Core.Remoting.AddHandler typeof&lt;IApi&gt; server
</code></pre>
<h2 id="whats-next">What's next?</h2>
<p>If you haven't tried it yet, the above PT is a good way to give WebSharper 7 beta a go, and share your feedback on the <a href="https://forums.websharper.com">WebSharper forums</a>, or in the <a href="https://github.com/dotnet-websharper/core">core GitHub repo</a> - your bug reports, PRs, questions/comments are welcome!</p>
<p>Keep in mind that the final WebSharper 7 might undergo API and other changes in the coming weeks. We expect to ship WebSharper 7 around/by mid-Q1 2024, followed with a comprehensive update to the documentation and main websites.</p>
<h3 id="proxies-proxies">Proxies, proxies</h3>
<p>More PTs are underway. Some of these PTs will showcase using Elmish+React+JSX and various UI libraries, and help you jumpstart your journey with WebSharper.</p>
<p>The standard UI paradigm for WebSharper applications has been a native-F#, dynamic dataflow-based reactive model via <a href="https://github.com/dotnet-websharper/ui">WebSharper.UI</a>, similar to the increasingly popular SolidJS/Svelte approach in JS applications. In addition, an Elmish-like Model-View-Update (MVU) library has been implemented on top as <a href="https://github.com/dotnet-websharper/mvu">WebSharper.Mvu</a>, and later, an actual Elmish implementation was added under <a href="https://github.com/elmish/elmish">WebSharper.Elmish</a>. This latter library used a <a href="https://developers.websharper.com/docs/v4.x/fs/proxying">proxy</a>, WebSharper's way of providing translation over arbitrary .NET APIs, to bring Elmish to WebSharper.</p>
<p>Recently, we have been investigating adding other proxies around some of the notable non-WebSharper libraries from the F# web ecosystem (Feliz, etc.) and Fable itself. This will soon open up interesting possibilities for both Fable and WebSharper developers, enable Fable web developers to benchmark code generation using WebSharper on their Fable apps, and to use WebSharper features otherwise not available in their stacks. For instance, essentially, you can soon take a Fable SPA and compile it with WebSharper without requiring any code changes, enhance it with WebSharper features/code, and host it in a WebSharper sitelet.</p>
<p>If you would like to further explore what WebSharper can do for your existing .NET web apps, feel free to DM me on X/FB/LinkedIn, or use our <a href="https://intellifactory.com/contact">contact form</a> to get in touch.</p>
<h3 id="i-am-a-c-developer-can-i-use-websharper">I am a C# developer, can I use WebSharper?</h3>
<p>Absolutely! WebSharper supports compiling both F# and C#, and even though the C# compilation path is not as feature rich as the F# one, it has been successfully used in various .NET/C# web projects. If you would like to help volunteer adding more C# features or fix/enhance the features already implemented, don't hesitate to reach out.</p>
<h3 id="whats-left-for-websharper-7">What's left for WebSharper 7?</h3>
<p>One of the many unique WebSharper features is the ability to embed client-side code in server-side markup, giving you a true fullstack developer experience. The SPA PT from above and other F# SPA projects you might have encountered before (SAFE or other Fable-based variants) are primarily client-centric, and approach your app as an exercise to enhance an HTML page with JavaScript code generated from an F# codebase. Any server-side code is then only loosely coupled, and the remoting layer makes no guarantees about matching the contract required by both tiers.</p>
<p>For WebSharper apps, there is another mode of operation, which has traditionally been the default mode: using <a href="https://developers.websharper.com/docs/v4.x/fs/sitelets">sitelets</a>.</p>
<p>Sitelets are self-hosted ASP.NET Core applications, but can also be made to run in Giraffe or Saturn using an <a href="https://github.com/intellifactory/sitelets">experimental bridge</a>, although recently, this received less focus than it deserved.</p>
<p>Sitelets bring client and server code under a unified programming model, give you isomorphic HTML over a range of UI paradigms (including the default WebSharper.UI reactive model with type-safe templating), and enable you to define how server responses (that may or may not include dynamic, client-side content) are computed for incoming requests, which themselves are mapped to values of endpoint types.</p>
<pre><code class="language-fsharp">type MyEndPoint =
    | [&lt;EndPoint &quot;/&quot;&gt;] Home
    | [&lt;EndPoint &quot;/echo&quot;&gt;] Echo of string
    ...

[Website]
let Main =
    Application.MultiPage (fun ctx -&gt; function
        | Home -&gt;
            Content.Page (...) // &lt;--- Your home page content here
        | Echo msg -&gt;
            Content.Text msg
    )
</code></pre>
<p>In the code above, <code>Content.Page</code> is a helper that constructs HTML responses, which takes an entire document or a document fragment (body), and will automatically include all required resources (npm and other) via a page-wide script generated at compile time. This is the piece currently in development before WebSharper 7 can be released: generating these include scripts for every sitelet page and making them available to post-compilation bundling.</p>
<p>It's likely that the final design won't arise until WebSharper 8, and WebSharper 7 will only include a basic implementation.</p>
<p>Just for fun and to give you an idea of the complexities involved, in the content passed to <code>Page.Content</code>, you can embed a variety of constructs that may in turn have dynamic, client-side aspects, among others:</p>
<ol>
<li><p>Server-side HTML with <code>OnAfterRender</code> and other event handlers:</p>
<pre><code class="language-fsharp">div [] [text &quot;Hello world!&quot;]

div [
    on.afterRender (fun e -&gt; Console.Log &quot;OAR!&quot;)
] [text &quot;I am a div with OAR&quot;]

div [
    on.click (fun e args -&gt; Console.Log &quot;clicked!&quot;)
] [text &quot;I am a div with a click handler&quot;]
</code></pre>
</li>
<li><p>Client-side HTML, using <code>client</code> - these execute after the containing page loads:</p>
<pre><code class="language-fsharp">client (div [] [text &quot;Hello world!&quot;])
</code></pre>
</li>
<li><p>Hydrated client-side HTML, using <code>hydrate</code> - these render on the server, with any client-side functionality lit up after page load:</p>
<pre><code class="language-fsharp">hydrate (RenderClientForm())
</code></pre>
</li>
<li><p>Client-side controls:</p>
<pre><code class="language-fsharp">Doc.WebControl (MyControl(&quot;I am a client-side control&quot;))
</code></pre>
<p>where <code>MyControl</code> is defined as:</p>
<pre><code class="language-fsharp">type MyControl(a: string) =
    inherit Web.Control()

    [&lt;JavaScript&gt;]
    override this.Body =
        div [
            on.click (fun e arg -&gt; Console.Log &quot;MyControl clicked&quot;)
        ] [text &quot;Click me, I am a client-side control&quot;]
</code></pre>
</li>
<li><p>Template-driven components with event bindings:</p>
<pre><code class="language-fsharp">type TemplateFile = Template&lt;
    @&quot;wwwroot\template.html&quot;, ClientLoad.FromDocument, ServerLoad.WhenChanged&gt;

TemplateFile.MyComponent()
    .Title(&quot;Click me, I am a templated component&quot;)
    .OnClick(fun e -&gt;
        Console.Log $&quot;MyComponent onClick =&gt; Textbox has \&quot;{e.Vars.Textbox.Value}\&quot;&quot;)
    .Doc()
</code></pre>
</li>
</ol>
<h3 id="what-about-support-for-f-8">What about support for F# 8?</h3>
<p>Once WebSharper 7 rolls out, we expect to make a short iteration to bring in all the latest <a href="https://github.com/dotnet-websharper/core/issues/1366">F# 8</a> and <a href="https://github.com/dotnet-websharper/core/issues/1367">C# 12</a> features, and release WebSharper 8, putting us back on track with frequent incremental releases and matching the latest F# and .NET SDK version. Be sure to check on the <a href="https://github.com/orgs/dotnet-websharper/projects/1">release bucket</a> to see what items are being worked on. Get involved on GitHub, your help is always greatly appreciated!</p>
<p>All in all, a great year ahead! I can't wait to see what the WebSharper community will accomplish in 2024!</p>
<p>Happy 2024 and happy coding!</p>
</div></div>
        </div>
      </section>
      <section class="py-20 bg-white">
        <div class="container px-4 mx-auto">
          <div class="flex flex-col lg:flex-row lg:justify-between lg:items-center mb-12">
            <div class="lg:w-2/3 lg:pr-16 mb-2 lg:mb-8">
              <h2 class="text-3xl md:text-4xl font-bold font-heading">Read more from </h2>
            </div>
            <div class="text-sm lg:text-base lg:w-1/3">
              <p class="leading-loose text-blueGray-500"><span>Can’t find what you were looking for? </span>                <a class="text-blue-600 hover:text-blue-700" href="/contact">Drop us a line</a>.
                              
              </p>
            </div>
          </div>
          <div class="flex flex-wrap -mx-4">
            <div class="w-full md:w-1/2 lg:w-1/4 px-4 mb-8"><a href="/user/granicz">
                <div class="inline-flex items-center"><img class="mr-2 w-4 h-4 lg:w-8 lg:h-8 rounded-full" src="/img/avatar/granicz.png" alt="Adam Granicz" />
                  <div class="flex-1 text-left"><span class="text-lg font-bold text-blueGray-400">Adam Granicz</span></div>
                </div></a>              <a href="/user/granicz/20221229-full-stack-fsharp-with-charting-reactive-forms-and-more-under-300-loc-with-websharper">
                <h4 class="text-xl font-semibold">Full-stack F# with charting, reactive forms, and more under 300 LOC with WebSharper</h4></a>
              <p class="text-sm md:text-base text-blueGray-400">20221229 · 30 min read</p>
            </div><div class="w-full md:w-1/2 lg:w-1/4 px-4 mb-8"><a href="/user/granicz">
                <div class="inline-flex items-center"><img class="mr-2 w-4 h-4 lg:w-8 lg:h-8 rounded-full" src="/img/avatar/granicz.png" alt="Adam Granicz" />
                  <div class="flex-1 text-left"><span class="text-lg font-bold text-blueGray-400">Adam Granicz</span></div>
                </div></a>              <a href="/user/granicz/20211230-ContentManagedWebSharperAppsWithCustomWebControlsAndTemplating">
                <h4 class="text-xl font-semibold">Content-managed WebSharper apps with custom web controls and templating</h4></a>
              <p class="text-sm md:text-base text-blueGray-400">20211230 · 20 min read</p>
            </div><div class="w-full md:w-1/2 lg:w-1/4 px-4 mb-8"><a href="/user/granicz">
                <div class="inline-flex items-center"><img class="mr-2 w-4 h-4 lg:w-8 lg:h-8 rounded-full" src="/img/avatar/granicz.png" alt="Adam Granicz" />
                  <div class="flex-1 text-left"><span class="text-lg font-bold text-blueGray-400">Adam Granicz</span></div>
                </div></a>              <a href="/user/granicz/20201231-variations-for-a-websharper-shopping-cart">
                <h4 class="text-xl font-semibold">Variations for a WebSharper shopping cart</h4></a>
              <p class="text-sm md:text-base text-blueGray-400">20201231 · 48 min read</p>
            </div><div class="w-full md:w-1/2 lg:w-1/4 p-4 mb-8 bg-gray-50 rounded-3xl"><a href="https://github.com/IntelliFactory/blogs/tree/master/user/granicz/20240102-A-new-fullstack-SPA-template-for-WebSharper-and-whats-next.md">
                <div class="inline-flex items-center"><img class="mr-2 w-4 h-4 lg:w-8 lg:h-8 rounded-full" src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="Adam Granicz" />
                  <div class="flex-1 text-left"><span class="text-lg font-bold text-blueGray-400">Found a typo?</span></div>
                </div></a>
              <h4 class="text-xl font-semibold">This blog post is hosted on GitHub <a href="https://github.com/IntelliFactory/blogs/tree/master/user/granicz/20240102-A-new-fullstack-SPA-template-for-WebSharper-and-whats-next.md">here</a>. Feel free to file a ticket or send a PR.</h4>
            </div>
            
            
          </div>
        </div>
      </section>
      
      
      <section class="2xl:pt-16 xl:pb-8 py-5 bg-blueGray-50">
        <div class="container mx-auto px-4">
          <div class="flex flex-wrap border-b border-gray-100 pt-5 lg:pt-10">
            <div class="w-full lg:w-3/5 px-4">
              <div class="flex flex-wrap px-5 pb-4">
                <div class="w-1/2 lg:w-1/3 mb-12">
                  <h3 class="mb-8 lg:mb-10 text-xl font-bold font-heading">IntelliFactory</h3>
                  <ul class="text-lg">
                    <li class="mb-4"><a class="hover:underline" href="/blogs">Blogs</a></li>
                    <li class="mb-4"><a class="hover:underline" href="/careers">Careers</a></li>
                    <li><a href="/contact">Contact</a></li>
                  </ul>
                </div>
                <div class="w-full lg:w-1/3 px-4 mb-4">
                  <h3 class="mb-8 lg:mb-10 text-xl font-bold font-heading">Services</h3>
                  <ul class="text-lg">
                    <li class="mb-4"><a class="hover:underline" href="/home#consulting">Consulting</a></li>
                    <li class="mb-4"><a class="hover:underline" href="/home#trainings">Trainings</a></li>
                    <li class="mb-4"><a class="hover:underline" href="/home#code-synthesis">AI-driven Code Synthesis</a></li>
                    <li class="mb-4"><a class="hover:underline" href="/home#dsls">Domain-Specific Languages</a></li>
                  </ul>
                </div>
                <div class="w-1/2 lg:w-1/3 px-4 mb-12">
                  <h3 class="mb-8 lg:mb-10 text-xl font-bold font-heading">Open Source</h3>
                  <ul class="text-lg">
                    <li class="mb-4"><a class="hover:underline" href="https://websharper.com">WebSharper</a></li>
                    <li class="mb-4"><a class="hover:underline" href="https://fsbolero.io">Bolero</a></li>
                    <li class="mb-4"><a class="hover:underline" href="#">From our Lab</a></li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="w-full lg:w-2/5 px-4 order-first lg:order-last mb-16 lg:mb-0">
              <h3 class="mb-10 text-xl font-bold">Newsletter</h3>
              <form method="post" id="newsletter-form">
                <div class="md:max-w-sm mb-8 flex items-center bg-white border border-gray-100 rounded-full"><span class="inline-block pl-2 lg:pl-5">
                    <svg width="37" height="37" viewbox="0 0 37 37" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <circle cx="18.5" cy="18.5" r="9.5" fill="#1F40FF" fill-opacity="0.15"></circle>
                      <circle cx="18.5" cy="18.5" r="18.5" fill="#1F40FF" fill-opacity="0.06"></circle>
                      <circle cx="18.5" cy="18.5" r="2.5" fill="#282C36"></circle>
                    </svg></span>
                  <input id="newsletter-input" class="pl-4 py-2 focus:outline-none rounded-full placeholder-gray-900 font-bold" type="email" placeholder="Your email address" />
                  <button id="signup" class="ml-auto px-6 lg:px-8 py-4 text-white font-bold bg-blue-500 hover:bg-blue-600 rounded-full transition duration-200">Ok</button>
                </div>
                <div id="newsletter-alert-list"></div>
                <p class="text-gray-300">We will not spam you or give your details to anyone.</p>
              </form>
            </div>
          </div>
          <div class="flex flex-wrap items-center mb-8 lg:mb-0 pt-5">
            <div class="hidden md:block w-full md:w-3/4 mb-8 md:mb-0">
              <div class="md:flex items-center"><a class="inline-block text-gray-900 text-xl font-bold" href="#"><img class="h-7" src="/images/if-logo-long.png" alt="IntelliFactory" width="auto" /></a>              <span class="hidden md:inline-block mx-8 w-px h-8 bg-gray-50"></span>
                <p class="hidden lg:block text-sm text-gray-300"><span class="text-gray-700">Copyright © 2004-2021 IntelliFactory.</span>                All rights reserved. Made with
                                  <img width="16" height="20" style="display:inline;vertical-align:middle;" alt="Love" src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/Love_Heart_SVG.svg/32px-Love_Heart_SVG.svg.png" />                in 100% F#.
                                
                </p>
              </div>
            </div>
            <div class="w-full md:w-1/4">
              <div class="md:flex items-center justify-end"><a class="inline-block mr-2" href="https://github.com/intellifactory">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
                  </svg></a>              <a class="inline-block mr-2" href="https://facebook.com/intellifactory">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#3b5998">
                    <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm3 8h-1.35c-.538 0-.65.221-.65.778v1.222h2l-.209 2h-1.791v7h-3v-7h-2v-2h2v-2.308c0-1.769.931-2.692 3.029-2.692h1.971v3z"></path>
                  </svg></a>              <a class="inline-block mr-2" href="https://twitter.com/intellifactory">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#00acee">
                    <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"></path>
                  </svg></a>              <a class="inline-block mr-2" href="https://www.linkedin.com/company/intellifactory">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#0e76a8">
                    <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-2 16h-2v-6h2v6zm-1-6.891c-.607 0-1.1-.496-1.1-1.109 0-.612.492-1.109 1.1-1.109s1.1.497 1.1 1.109c0 .613-.493 1.109-1.1 1.109zm8 6.891h-1.998v-2.861c0-1.881-2.002-1.722-2.002 0v2.861h-2v-6h2v1.093c.872-1.616 4-1.736 4 1.548v3.359z"></path>
                  </svg></a>              <a class="inline-block" href="https://vimeo.com/user15828007">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewbox="0 0 24 24" fill="#86c9ef">
                    <path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.82 11.419c-1.306 2.792-4.463 6.595-6.458 6.595-1.966 0-2.25-4.192-3.324-6.983-.527-1.372-.868-1.058-1.858-.364l-.604-.779c1.444-1.27 2.889-2.745 3.778-2.826.998-.096 1.615.587 1.845 2.051.305 1.924.729 4.91 1.472 4.91.577 0 2.003-2.369 2.076-3.215.13-1.24-.912-1.277-1.815-.89 1.43-4.689 7.383-3.825 4.888 1.501z"></path>
                  </svg></a></div>
            </div>
          </div>
        </div>
      </section>
      
      <div>
        
        <meta id='websharper-data' name='websharper-data' content='{"$TYPES":[],"$DATA":{"$V":{}}}' />
<script src="../../Scripts/WebSharper.Core.JavaScript/Runtime.js" type="text/javascript" charset="UTF-8"></script><script type="text/javascript">
if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '../../Scripts/';
  IntelliFactory.Runtime.Start();
}
</script>

        <script src="/js/Dynamic.js"></script>
      </div>
    </div>
  </body>
</html>